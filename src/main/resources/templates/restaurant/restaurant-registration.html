<!DOCTYPE html>
<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}">
<body>
    <div layout:fragment="content">
        <div>
            <h1>Cadastro de Restaurante</h1>
            <div id="sucessMessage" th:if="${msg != null}">
                <span th:text="${msg}"></span>
            </div>

            <form method="post" th:object="${restaurant}" th:action="${!editMode} ? @{/public/restaurant/save} : @{/restaurant/save}" enctype="multipart/form-data">
                <fieldset>
                    <input type="hidden" th:field="*{id}">

                    <label for="name">Nome do Restaurante: </label><br />
                    <input type="text" id="name" name="name" placeholder="Nome..." th:field="*{name}" th:classappend="${#fields.hasErrors('name')} ? 'inputError' : ''" /><br />
                    <div id="errorMessage" th:if="${#fields.hasErrors('name')}">
                        <span th:errors="*{name}"></span>
                    </div>
                    <br /><br />

                    <label for="cnpj">CNPJ: </label><br />
                    <input type="text" id="cnpj" name="cnpj" placeholder="CNPJ..." th:field="*{cnpj}" th:classappend="${#fields.hasErrors('cnpj')} ? 'inputError' : ''" /><br />
                    <div id="errorMessage" th:if="${#fields.hasErrors('cnpj')}">
                        <span th:errors="*{cnpj}"></span>
                    </div>
                    <br /><br />

                    <label for="email">E-mail: </label><br />
                    <input type="text" id="email" name="email" placeholder="E-mail..." th:field="*{email}" th:classappend="${#fields.hasErrors('email')} ? 'inputError' : ''" /><br />
                    <div id="errorMessage" th:if="${#fields.hasErrors('email')}">
                        <span th:errors="*{email}"></span>
                    </div>
                    <br /><br />

                    <label for="phone">Telefone: </label><br />
                    <input type="text" id="phone" name="phone" placeholder="Telefone..." th:field="*{phone}" th:classappend="${#fields.hasErrors('phone')} ? 'inputError' : ''" /><br />
                    <div id="errorMessage" th:if="${#fields.hasErrors('phone')}">
                        <span th:errors="*{phone}"></span>
                    </div>
                    <br /><br />

                    <label for="taxDelivery">Taxa de entrega: </label><br />
                    <input type="text" id="taxDelivery" name="taxDelivery" placeholder="Taxa de Entrega..." th:field="*{taxDelivery}" th:classappend="${#fields.hasErrors('taxDelivery')} ? 'inputError' : ''" /><br />
                    <div id="errorMessage" th:if="${#fields.hasErrors('taxDelivery')}">
                        <span th:errors="*{taxDelivery}"></span>
                    </div>
                    <br /><br />

                    <label for="timeDeliveryDefault">Tempo de entrega (m√≠n.): </label><br />
                    <input type="text" id="timeDeliveryDefault" name="timeDeliveryDefault" placeholder="Tempo de Entrega..." th:field="*{timeDeliveryDefault}" th:classappend="${#fields.hasErrors('timeDeliveryDefault')} ? 'inputError' : ''" /><br />
                    <div id="errorMessage" th:if="${#fields.hasErrors('timeDeliveryDefault')}">
                        <span th:errors="*{timeDeliveryDefault}"></span>
                    </div>
                    <br /><br />

                    <label for="logotype">Logotipo:</label>
                    <input type="file" name="logotype" id="logotype" placeholder="Selecionar..." th:field="*{logotypeFile}" th:classappend="${#fields.hasErrors('logotypeFile')} ? 'inputError' : ''" ><br>
                    <div id="errorMessage" th:if="${#fields.hasErrors('logotypeFile')}">
                        <span th:errors="*{logotypeFile}"></span>
                    </div>
                    <br /><br />

                    <label for="category">Categoria de Comida: </label><br>
                    <select name="category" id="category" multiple="multiple" th:field="*{categories}" style="height: 90px;" th:classappend="${#fields.hasErrors('categories')} ? 'inputError' : ''" /><br />
                        <option th:each="category : ${categories}" th:value="${category.id}" th:text="${category.name}"></option>
                    </select>
                    <div id="errorMessage" th:if="${#fields.hasErrors('categories')}">
                        <span th:errors="*{categories}"></span>
                    </div>
                    <br><br>

                    <label for="password">Senha: </label><br>
                    <input type="password" name="password" id="password" placeholder="Informe a sua Senha"><br><br>

                    <input type="submit" th:value="${!editMode} ? 'Cadastrar' : 'Alterar'">
                </fieldset>
            </form>
            <br>
            <input type="button" value="Voltar" th:onclick="'location.href=\'' + @{/restaurant/home} + '\';'">
        </div>
    </div>
</body>

</html>