<!DOCTYPE html>
<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}">
<body>
<div layout:fragment="content">
    <div>
        <h1>Cadastro de Cliente</h1>
        <div id="sucessMessage" th:if="${msg != null}">
            <span th:text="${msg}"></span>
        </div>
        <br>

        <form method="post" th:object="${customer}" th:action="${!editMode} ? @{/public/customer/save} : @{/customer/save}">
            <fieldset>
                <input type="hidden" th:field="*{id}">

                <label for="name">Nome: </label><br>
                <input type="text" name="name" id="name" placeholder="Informe o seu Nome" th:field="*{name}" th:classappend="${#fields.hasErrors('name')} ? 'inputError' : ''"><br><br>
                <div id="errorMessage" th:if="${#fields.hasErrors('name')}"><span th:errors="*{name}"></span></div><br>

                <label for="cpf">CPF: </label><br>
                <input type="text" name="cpf" id="cpf" placeholder="Informe o seu CPF" th:field="*{cpf}" th:classappend="${#fields.hasErrors('cpf')} ? 'inputError' : ''" onkeydown="return isNumberKey(event);"><br><br>
                <div id="errorMessage" th:if="${#fields.hasErrors('cpf')}"><span th:errors="*{cpf}"></span></div><br>

                <label for="email">E-mail: </label><br>
                <input type="text" name="email" id="email" placeholder="Informe o seu E-mail" th:field="*{email}" th:classappend="${#fields.hasErrors('email')} ? 'inputError' : ''"><br><br>
                <div id="errorMessage" th:if="${#fields.hasErrors('email')}"><span th:errors="*{email}"></span></div><br>

                <label for="phone">Celular: </label><br>
                <input type="text" name="phone" id="phone" placeholder="Informe o seu NÃºmero de Celular" th:field="*{phone}" th:classappend="${#fields.hasErrors('phone')} ? 'inputError' : ''" onkeydown="return isNumberKey(event);"><br><br>
                <div id="errorMessage" th:if="${#fields.hasErrors('phone')}"><span th:errors="*{phone}"></span></div><br>

                <label for="cep">CEP: </label><br>
                <input type="text" name="cep" id="cep" placeholder="Informe o seu CEP" th:field="*{cep}" th:classappend="${#fields.hasErrors('cep')} ? 'inputError' : ''" onkeydown="return isNumberKey(event);"><br><br>
                <div id="errorMessage" th:if="${#fields.hasErrors('cep')}"><span th:errors="*{cep}"></span></div><br>

                <div th:if="${!editMode}">
                    <label for="password">Senha: </label><br>
                    <input type="password" name="password" id="password" placeholder="Informe a sua Senha" th:field="*{password}" th:classappend="${#fields.hasErrors('password')} ? 'inputError' : ''" ><br><br>
                    <div id="errorMessage" th:if="${#fields.hasErrors('password')}"><span th:errors="*{password}"></span></div><br>
                </div>
                <input type="hidden" name="password" value="*" th:if="${editMode}">

                <input type="submit" th:value="${!editMode} ? 'Cadastrar' : 'Alterar'">
            </fieldset>
        </form>
        <br>
        <input type="button" value="Voltar" th:onclick="'location.href=\'' + @{/customer/home} + '\';'">
    </div>
</div>
</body>

</html>